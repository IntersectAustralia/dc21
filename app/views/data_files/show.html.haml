- content_for :breadcrumb  do
  %h1 Data / View / #{@data_file.filename}

- content_for :pageactions do
  =render :partial => 'data_files/pageactions'

= cancel_button "Back", data_files_path

#file_details
  %hr/
  %h3 Basic Information
  = render_field "Name", @data_file.filename
  = render_field "Type", @data_file.status_as_string
  = render_field "File format", @data_file.format_for_display
  .description
    = render_field "Description", @data_file.file_processing_description
  = render_field_with_block "Tags" do
    - @data_file.tags.each do |tag|
      = tag.name
      %br/
  = render_field "Experiment", @data_file.experiment_name
  = render_field "Date added", @data_file.created_at.to_s(:with_time)
  = render_field "Added by", (@data_file.created_by ? @data_file.created_by.email : "")

  - if @data_file.known_format?
    %hr/
    %h3 Information From The File
    = render_field "Start time", @data_file.start_time.utc.to_s(:with_seconds) if @data_file.start_time
    = render_field "End time", @data_file.end_time.utc.to_s(:with_seconds) if @data_file.end_time
    = render_field "Sample interval", distance_of_time_in_words(@data_file.interval) if @data_file.interval
    = render "file_format_specific_details"
  - else
    - start_date = @data_file.start_time.present? ? @data_file.start_time.utc.to_s(:with_seconds) : "Unknown"
    - end_date = @data_file.end_time.present? ? @data_file.end_time.utc.to_s(:with_seconds) : "Unknown"
    = render_field "Start time", start_date
    = render_field "End time", end_date


.form-actions
  .actions-pre
    = cancel_button "Back", data_files_path
  .actions
    - if (can?(:manage, DataFile) || @data_file.created_by.eql?(current_user)) and !@data_file.is_error_file?
      = link_to "Edit Data File", edit_data_file_path, :class => "bluebutton"
